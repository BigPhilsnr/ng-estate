
<div class="row">
    <div class="col-md-12 col-lg-12 col-xxxl-12">
      <nb-card>
        <nb-card-header> Customers</nb-card-header>
        <nb-card-body>
<div class="customer-content">
    <div class="table-header">
        <div>
            <mat-form-field>
                <mat-label>Start date</mat-label>
                <input matInput [matDatepicker]="startDate">
                <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
                <mat-datepicker #startDate></mat-datepicker>
              </mat-form-field>
        </div>

        <div>
            <mat-form-field>
                <mat-label>End date</mat-label>
                <input matInput [matDatepicker]="endDate">
                <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
                <mat-datepicker #endDate></mat-datepicker>
              </mat-form-field>
        </div>
        <div class="search-bar">
            <mat-form-field class="example-full-width">
                <mat-label>Search customer</mat-label>
                <input matInput placeholder="Search" class="dc-search" (keyup)="filterSubject.next($event.target.value)" value="Customer">
              </mat-form-field>
        </div>
      </div>
  <div class="table-container">
    <table mat-table [dataSource]="dataSource" matSort matSortDisableClear="true"
      [matSortActive]="defaultSort.active" [matSortDirection]="defaultSort.direction">

      <ng-container matColumnDef="id">
        <th mat-header-cell class="dc-label" *matHeaderCellDef mat-sort-header>Id</th>
        <td mat-cell class="dc-content" *matCellDef="let element">{{element.id}} </td>
      </ng-container>

      <ng-container matColumnDef="role">
        <th mat-header-cell class="dc-label" *matHeaderCellDef mat-sort-header>Role</th>
        <td mat-cell class="dc-content" *matCellDef="let element">{{element.role}} </td>
      </ng-container>

      <ng-container matColumnDef="firstName">
        <th mat-header-cell class="dc-label" *matHeaderCellDef mat-sort-header>First Name</th>
        <td mat-cell class="dc-content" *matCellDef="let element"> {{ element.firstName }} </td>
      </ng-container>

      <ng-container matColumnDef="lastName">
        <th mat-header-cell class="dc-label" *matHeaderCellDef mat-sort-header>Last Name</th>
        <td mat-cell class="dc-content" *matCellDef="let element">{{element.lastName}} </td>
      </ng-container>

      <ng-container matColumnDef="amount">
          <th mat-header-cell class="dc-label" *matHeaderCellDef mat-sort-header>Amount</th>
          <td mat-cell class="dc-content" *matCellDef="let element">{{element.amount}} </td>
        </ng-container>

      <ng-container matColumnDef="noData">
        <td mat-cell class="dc-label no-data-cell" *matCellDef="let element"
          [attr.colspan]="displayedColumns.length" >
          <ng-container *ngIf="!(error$ | async) && !loading">
            <span class="dc-content">No Customers</span>
          </ng-container>
          <ng-container *ngIf="(error$ | async) && !loading">
            <span class="dc-label">System Failure</span>
            <span class="dc-content">Error</span>
            <span class="retry" (click)="retry()">Retry</span>
          </ng-container>
          <ng-container *ngIf="loading">
              <span class="dc-label">Retrieving data...</span>  
            </ng-container>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns, sticky: true"></tr>
      <ng-container *ngIf="customerTotal && !loading">
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="customer-row" (click)= "getRecord(row)"></tr>
      </ng-container>
      <ng-container *ngIf="!customerTotal || loading">
        <tr mat-row *matRowDef="let row; columns: ['noData'];"class="no-data-row" ></tr>
      </ng-container>
    </table>

    <mat-paginator [length]="customerTotal" [pageSize]="10"  [pageSizeOptions]="[3, 5, 10]"></mat-paginator>
  </div>
</div>
</nb-card-body>
</nb-card>
</div>